В Node.js объект `process` является глобальным объектом, который предоставляет информацию и контроль над текущим процессом Node.js. Этот объект доступен во всех модулях Node.js без необходимости его импортировать. Он предоставляет множество полезных свойств и методов для взаимодействия с процессом и окружением, в котором он выполняется.

### Основной процесс

При запуске скрипта или приложения на Node.js, создается один основной процесс. В этом процессе существует только один экземпляр глобального объекта `process`, который предоставляет информацию и контроль над этим конкретным процессом.

### Многопоточность и мультипроцессинг

Хотя основной процесс Node.js однопоточен и управляется одним объектом `process`, можно создавать дополнительные потоки или процессы для выполнения параллельных задач с помощью различных механизмов:

1. **Worker Threads**:
    - Позволяют создавать дополнительные потоки в рамках одного процесса.
    - Каждый поток имеет свой собственный экземпляр `process`.

2. **Child Processes**:
    - Позволяют создавать дочерние процессы, которые выполняются параллельно с основным процессом.
    - Каждый дочерний процесс имеет свой собственный экземпляр `process`.

### Основные функции и свойства объекта `process`

1. **Информация о процессе**:
    - `process.pid`: Возвращает идентификатор процесса (Process ID).
    - `process.ppid`: Возвращает идентификатор родительского процесса (Parent Process ID).
    - `process.title`: Позволяет получить или установить заголовок процесса.

2. **Информация об окружении**:
    - `process.env`: Объект, содержащий переменные окружения.
    - `process.argv`: Массив, содержащий аргументы командной строки, переданные при запуске процесса.

   Этот массив всегда содержит как минимум два элемента:
    - `process.argv[0]`: Путь к исполняемому файлу Node.js.
    - `process.argv[1]`: Путь к запускаемому JavaScript файлу.

   Остальные элементы массива `process.argv` начинаются с индекса 2 и содержат дополнительные аргументы командной строки, которые были переданы скрипту. Например, если вы запустите Node.js скрипт с дополнительными аргументами так:

```bash
node myscript.js arg1 arg2 arg3
```

   Тогда `process.argv` будет выглядеть примерно так:

    - `process.argv[0]`: `/path/to/node` (путь к исполняемому файлу Node.js)
    - `process.argv[1]`: `/path/to/myscript.js` (путь к вашему скрипту)
    - `process.argv[2]`: `arg1`
    - `process.argv[3]`: `arg2`
    - `process.argv[4]`: `arg3`

3. **Методы управления(завершения) процесса**:
    - `process.exit([code])`: Завершает процесс с указанным кодом выхода (по умолчанию 0).
    - `process.kill(pid, [signal])`: Отправляет сигнал указанному процессу.
    - `process.abort()`: Прерывает процесс и генерирует дамп памяти.

   Вызов метода `exit()` приводит к тому, что его процесс мгновенно завершается. Это означает, что абсолютно всё, чем занималась программа, будет довольно грубо и безусловно прервано. Речь идёт о невызванных коллбэках, о выполняемых в момент выхода сетевых запросах, о действиях с файлами, об операциях записи в stdout или stderr.

   Подобный вариант завершения процесса не желателен и предпочтительно использовать ниже следующую команду:
    `process.kill(process.pid, 'SIGTERM')`.

4. **События процесса**:
   Метод `process.on()` в Node.js используется для регистрации обработчиков событий на глобальном объекте process. Он позволяет вашему приложению реагировать на различные события, связанные с жизненным циклом процесса, такие как завершение процесса, необработанные исключения, отклонения промисов и сигналы операционной системы.

    - `process.on('exit', callback)`: Регистрирует коллбэк, который будет вызван перед завершением процесса.
    - `process.on('uncaughtException', callback)`: Регистрирует коллбэк для обработки необработанных исключений.

   Метод `process.on()` часто применяется для следующих целей:
    - Обработка завершения процесса, например очистка ресурсов перед завершением процесса, закрытие файловых дескрипторов или сетевых соединений.
    - Обработка ошибок и исключений, чтобы предотвратить неожиданное завершение процесса.
    - Обработка сигналов операционной системы, таких как SIGINT, SIGTERM, SIGHUP и других, чтобы корректно завершать процесс или выполнять специфические действия при получении сигналов.
    - Мониторинг состояния процесса, чтобы реагировать на различные события, связанные с жизненным циклом процесса.

5. **Информация о ресурсах**:
    - `process.memoryUsage()`: Возвращает объект с информацией об использовании памяти процессом.
    - `process.uptime()`: Возвращает время работы процесса в секундах.

### Практическое применение

1. **Управление переменными окружения**:
   - Использование `process.env` для доступа к переменным окружения, таких как конфигурационные параметры и секреты.

2. **Обработка аргументов командной строки**:
   - Использование `process.argv` для чтения аргументов, переданных при запуске процесса, и дальнейшей обработки их в приложении.

3. **Мониторинг ресурсоемкости**:
   - Использование `process.memoryUsage()` и `process.uptime()` для мониторинга использования ресурсов и времени работы процесса.

4. **Обработка необработанных исключений**:
   - Использование `process.on('uncaughtException', callback)` для регистрации обработчиков необработанных исключений и предотвращения неожиданного завершения процесса.
