**Node.js** — это среда выполнения JavaScript, построенная на движке V8 от Google Chrome, которая позволяет запускать JavaScript вне браузера. Node.js используется для создания серверных приложений и обладает следующими ключевыми характеристиками:
- **Асинхронная, событийно-ориентированная архитектура**: Node.js использует неблокирующую модель ввода-вывода, что позволяет обрабатывать большое количество одновременных соединений эффективно.
- **Однопоточная модель с поддержкой многозадачности**: Хотя Node.js работает в одном потоке, он может обрабатывать множество операций одновременно благодаря своей асинхронной природе.
- **Модульная система**: Node.js использует систему модулей, что позволяет легко управлять зависимостями и повторно использовать код.
Node.js широко используется для разработки серверных приложений, API, микросервисов и реальных приложений с высокой нагрузкой.

## Основы

### npm

При установке NodeJS на ПК, вместе с ним так же устанавливается **Node Package Manager (npm)**.
**npm** — это пакетный менеджер для JavaScript, который используется для управления зависимостями в проектах, работающих с Node.js. Он позволяет разработчикам:
- **Устанавливать** и **управлять** библиотеками и фреймворками, которые можно использовать в своих проектах.
- **Публиковать** и **делиться** собственными пакетами с сообществом.
- **Автоматизировать** различные задачи, такие как сборка и тестирование, с помощью скриптов.

Для установки зависимостей в свой проект, необходимо инициализировать проект, т.е. создать начальную структуру и необходимые файлы для разработки.
Инициализация выполняется командой `npm init` или, `npm init -y` чтобы использовать стандартные настройки.
В процессе инициализации создаётся файл _package.json_.
Этот файл содержит метаданные о вашем проекте: имя, версия, автор, лицензия и т.д.
Список зависимостей, которые ваш проект использует.
Скрипты, которые можно запускать с помощью npm (например, start, test).

---

### Зависимости

**Зависимости (dependencies)** — это внешние библиотеки, фреймворки или модули, которые ваш проект использует для выполнения определенных функций или задач. Вместо того чтобы писать весь код с нуля, разработчики могут использовать уже существующие решения, что позволяет сэкономить время и усилия.

#### Типы зависимостей
**Основные зависимости (dependencies)**:
Это библиотеки и модули, которые необходимы для работы вашего приложения в производственной среде.
Они указываются в разделе "dependencies" файла _package.json_.

**Разработческие зависимости (devDependencies)**:
Это инструменты и библиотеки, которые нужны только в процессе разработки, тестирования и сборки проекта, но не требуются в производственной среде.
Они указываются в разделе "devDependencies" файла _package.json_.

#### Управление зависимостями с помощью npm
**Просмотр установленных зависимостей**:
Для просмотра всех установленных зависимостей используйте команду `npm list`.

**Установка зависимостей**:
- Для установки основной зависимости используйте команду `npm install <package-name>`.
- Для установки разработческой зависимости используйте команду `npm install <package-name> --save-dev`.
- Для установки конкретной версии пакета, используйте команду `npm install <package-name>@<version>`.
Дополнительно можно указать диапазоны версий (подробнее ниже) для обновления, в процессе установки:
- `npm install express@~4.17.1` - будет обновляться в рамках патч версий.
- `npm install express@^4.17.1` - будет обновлятся в рамках минорных и патч версий (используется по умолчанию).
- `npm install express@4.17.1` - установка фиксированной версии, без возможности обновления.
- `npm install express@>=4.17.1 <5.0.0` - возможно обновление в диапазоне от 4.17.1(включительно), до 5.0.0.

При установке любой зависимости в рабочей директории появляется папка **node_modules**, в которой собственно и хранятся используемые зависимости. А так же добавляется файл _package-lock.json_, содержащий полное древо зависимостей. Иначе говоря в нём отображены зависимости устанавливаемых зависимостей.

**Удаление зависимостей**:
Для удаления зависимости используйте команду `npm uninstall <package-name>`.

**Обновление зависимостей**:
Для обновления _всех_ зависимостей до последних версий используйте команду `npm update`.
Для обновления конкретного пакета в проекте, вы можете использовать команду `npm update <package-name>`.
Вышеуказанные команды выполняют обновление до последней версии в рамках текущего диапазона версий.
Однако, чтобы обновить пакет до последней версии, часто используется команда `npm install <package-name>@latest`.

#### Семантическое версионирование (semver)

Любое обновление зависимостей выполняется согласно диапазону версий, указанному в _package.json_. Этот диапазон версий определяется с помощью семантического версионирования (semver).

Семантическое версионирование использует формат `MAJOR.MINOR.PATCH`, где:

- **MAJOR** (мажорная версия): Вносит несовместимые изменения API.
- **MINOR** (минорная версия): Добавляет новые функции, совместимые с предыдущими версиями.
- **PATCH** (патч-версия): Вносит исправления ошибок, совместимые с предыдущими версиями.

**Диапазоны версий в package.json**

При указании версий в _package.json_ можно использовать различные символы и символические обозначения для определения диапазона версий:

1. **Тильда (`~`)**:
- Обновления только патч-версий.
- Пример: `"express": "~4.17.1"` будет обновлено до `4.17.x`, но не до `4.18.0`.

2. **Каретка (`^`)**:
- Обновления минорных и патч-версий.
- Пример: `"express": "^4.17.1"` будет обновлено до `4.x.x`, но не до `5.0.0`.

3. **Фиксированная версия**:
- Обновления не производятся.
- Пример: `"express": "4.17.1"` будет использовать только версию `4.17.1`.

4. **Диапазоны версий**:
- Можно указать конкретные диапазоны версий.
- Пример: `"express": ">=4.17.1 <5.0.0"`.

Команды `npm update` и `npm install <package-name>@latest` автоматически обновят запись в файле `package.json` с новой версией пакета, если она соответствует указанному диапазону версий.

Можно изменить диапазон версий для уже установленной зависимости, вручную отредактировав файл _package.json_ и затем выполнив команду`npm install`, чтобы применить изменения.


---

Для запуска JavaScript кода, нужном файле с помощью NodeJS необходимо сделать следующее:
- перейти в директорию с нужным файлом;
- вызвать команду `node filename.js`;
- либо указать путь до исполняемого файла из текущей директории `node путь/к/файлу`.
Примечание. Не забыть сохранить код в нужном файле, чтобы NodeJS запускал актуальный код.

Полезные _bash_ команды:
- `ls` - проверяет список файлов в текущей директории;
- `cd путь/к/вашей/директории` - перемещает в указанную директорию;
- `node -v` - проверяет наличие NodeJS на ПК и её версию.
